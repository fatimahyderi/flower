{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from'axios';import{useParams}from'react-router-dom';import\"./form.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EditProductForm(){var nav=useNavigate();var _useParams=useParams(),id=_useParams.id;console.log(id);var _useState=useState({p_name:\"\",p_price:\"\",p_quantity:\"\",p_image:\"\",p_category:\"\"}),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){function getProductData(){return _getProductData.apply(this,arguments);}function _getProductData(){_getProductData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _products;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:8080/items/view/\".concat(id));case 3:_products=_context.sent;setProducts(_products.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"something is wrong\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getProductData.apply(this,arguments);}getProductData();},[id]);console.log(products);var name,value;function handleInputChange(event){console.log(event);name=event.target.name;value=event.target.value;setProducts(_objectSpread(_objectSpread({},products),{},_defineProperty({},name,value)));}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var apiUrl;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();apiUrl=\"http://localhost:8080/items/updateproduct/\".concat(id);fetch(apiUrl,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(products)}).then(function(res){return res.json();}).then(function(response){console.log(response);nav('/product-form');}).catch(console.log);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];useEffect(function(){var getCategoryData=function getCategoryData(){axios.get(\"http://localhost:8080/items/categoryFormData\").then(function(response){setCategory(response.data);}).catch(function(error){console.log(error);}).then(function(){});};getCategoryData();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"EDIT PRODUCTS\"}),/*#__PURE__*/_jsx(\"div\",{class:\"myWrapper\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container1\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"productform\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col1\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"item-details\",id:\"col-2\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:handleInputChange,name:\"p_name\",value:products.p_name,placeholder:products.name,type:\"text\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"item-details\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"quantity\",children:\"Product Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:handleInputChange,name:\"p_image\",value:products.p_image,placeholder:products.image,type:\"text\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"item-details\",id:\"col-2\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"price\",children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:handleInputChange,name:\"p_price\",value:products.p_price,placeholder:products.price,type:\"number\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"item-details\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"category\",children:\"Product Category\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{onChange:handleInputChange,name:\"p_category\",value:products.p_category,placeholder:products.category,id:\"category\",children:category&&category.map(function(data,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:data.name,children:data.name})});})})]})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"myBtn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Save Changes\",children:\"Save changes\"})})]})})})]});}","map":{"version":3,"names":["useEffect","useState","axios","useParams","useNavigate","EditProductForm","nav","id","console","log","p_name","p_price","p_quantity","p_image","p_category","products","setProducts","getProductData","get","data","name","value","handleInputChange","event","target","handleSubmit","e","preventDefault","apiUrl","fetch","method","headers","body","JSON","stringify","then","res","json","response","catch","category","setCategory","getCategoryData","error","image","price","map","key"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/src/components/Admin/ProductForms/EditProductForm.js"],"sourcesContent":["import  {useEffect, useState} from \"react\";\r\nimport axios from 'axios';\r\nimport {useParams} from 'react-router-dom';\r\nimport \"./form.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function EditProductForm() {\r\n    const nav = useNavigate()\r\n \r\nconst { id }  = useParams();\r\nconsole.log(id)\r\nconst [products, setProducts] = useState(\r\n  { p_name: \"\", p_price: \"\", p_quantity: \"\", p_image: \"\", p_category: \"\"}\r\n);\r\n\r\nuseEffect(() =>{  \r\n    async function getProductData() {\r\n      try {\r\n        const products = await axios.get(`http://localhost:8080/items/view/${id}`)\r\n        setProducts(products.data);\r\n      } catch (error) {\r\n        console.log(\"something is wrong\");\r\n      }\r\n    } \r\n    getProductData();\r\n}, [id]);\r\n\r\nconsole.log(products)\r\n\r\nlet name, value;\r\nfunction handleInputChange(event) {\r\n    console.log(event);\r\n    name= event.target.name;\r\n    value = event.target.value;\r\n\r\n    setProducts(\r\n        {...products, [name]: value}\r\n    )\r\n}\r\n\r\n\r\n\r\n async function handleSubmit(e) {\r\n    e.preventDefault()\r\n     const apiUrl = `http://localhost:8080/items/updateproduct/${id}`;\r\n    fetch(apiUrl, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n         body: JSON.stringify(products)\r\n    }).then(res => res.json())\r\n        .then(response => {\r\n            console.log(response)\r\n            nav('/product-form')\r\n        }).catch(console.log);\r\n}\r\n\r\n  \r\n \r\n\r\nconst [ category, setCategory] = useState();\r\n\r\nuseEffect(() =>{      \r\n const getCategoryData = ()=> {    \r\n     axios.get(`http://localhost:8080/items/categoryFormData`)\r\n     .then(function (response){    \r\n      setCategory(response.data);\r\n     })\r\n     .catch(function (error){\r\n         console.log(error);\r\n     })\r\n     .then(function (){\r\n\r\n     });      \r\n }   \r\n\r\n   getCategoryData();\r\n}, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n  <>\r\n    <h2>EDIT PRODUCTS</h2>\r\n\r\n  <div class= \"myWrapper\"> \r\n\r\n    <div class=\"container1\">\r\n      <form onSubmit={handleSubmit} className=\"productform\">\r\n        <div class=\"col1\">\r\n          <div class=\"item-details\" id=\"col-2\">\r\n            <div class=\"input-box\">\r\n              <label for=\"name\">Product Name</label><br />\r\n              <input onChange={handleInputChange} name=\"p_name\" value={products.p_name} placeholder={products.name} type=\"text\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"item-details\">\r\n            <div class=\"input-box\">\r\n              <label for=\"quantity\">Product Image</label><br />\r\n              <input onChange={handleInputChange}  name=\"p_image\" value={products.p_image} placeholder={products.image} type=\"text\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col2\">\r\n          <div class=\"item-details\" id=\"col-2\">\r\n            <div class=\"input-box\">\r\n              <label for=\"price\">Unit Price</label><br />\r\n              <input onChange={handleInputChange}  name=\"p_price\" value={products.p_price} placeholder={products.price} type=\"number\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"item-details\">\r\n            <div class=\"input-box\">\r\n              <label for=\"category\">Product Category</label><br />\r\n\r\n              <select onChange={handleInputChange} name=\"p_category\" value={products.p_category} placeholder={products.category} id=\"category\" > \r\n\r\n\r\n                {category && category.map((data, key) => {                               \r\n                    return (                                        \r\n                    <> \r\n                      <option value= {data.name} >{data.name}</option>                    \r\n                    </>  \r\n                    )\r\n                })}                 \r\n              </select>\r\n              \r\n            </div>          \r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"myBtn\">\r\n          <button type=\"submit\" value=\"Save Changes\" >Save changes</button>\r\n        </div>\r\n      </form>     \r\n    </div>\r\n  </div>  \r\n\r\n\r\n \r\n</>\r\n  )\r\n}\r\n  "],"mappings":"6sBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAmC,OAAnC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAO,YAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,6IAEA,cAAe,SAASC,gBAAT,EAA2B,CACtC,GAAMC,IAAG,CAAGF,WAAW,EAAvB,CAEJ,eAAgBD,SAAS,EAAzB,CAAQI,EAAR,YAAQA,EAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACA,cAAgCN,QAAQ,CACtC,CAAES,MAAM,CAAE,EAAV,CAAcC,OAAO,CAAE,EAAvB,CAA2BC,UAAU,CAAE,EAAvC,CAA2CC,OAAO,CAAE,EAApD,CAAwDC,UAAU,CAAE,EAApE,CADsC,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAIAhB,SAAS,CAAC,UAAK,SACIiB,eADJ,sJACX,yLAE2Bf,MAAK,CAACgB,GAAN,4CAA8CX,EAA9C,EAF3B,QAEUQ,SAFV,eAGIC,WAAW,CAACD,SAAQ,CAACI,IAAV,CAAX,CAHJ,+EAKIX,OAAO,CAACC,GAAR,CAAY,oBAAZ,EALJ,oEADW,iDASXQ,cAAc,GACjB,CAVQ,CAUN,CAACV,EAAD,CAVM,CAAT,CAYAC,OAAO,CAACC,GAAR,CAAYM,QAAZ,EAEA,GAAIK,KAAJ,CAAUC,KAAV,CACA,QAASC,kBAAT,CAA2BC,KAA3B,CAAkC,CAC9Bf,OAAO,CAACC,GAAR,CAAYc,KAAZ,EACAH,IAAI,CAAEG,KAAK,CAACC,MAAN,CAAaJ,IAAnB,CACAC,KAAK,CAAGE,KAAK,CAACC,MAAN,CAAaH,KAArB,CAEAL,WAAW,gCACHD,QADG,wBACQK,IADR,CACeC,KADf,GAAX,CAGH,CAhCyC,QAoC1BI,aApC0B,kJAoCzC,kBAA4BC,CAA5B,mIACGA,CAAC,CAACC,cAAF,GACOC,MAFV,qDAEgErB,EAFhE,EAGGsB,KAAK,CAACD,MAAD,CAAS,CACVE,MAAM,CAAE,KADE,CAEVC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFC,CAKTC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAenB,QAAf,CALG,CAAT,CAAL,CAMGoB,IANH,CAMQ,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAJ,EAAJ,EANX,EAOKF,IAPL,CAOU,SAAAG,QAAQ,CAAI,CACd9B,OAAO,CAACC,GAAR,CAAY6B,QAAZ,EACAhC,GAAG,CAAC,eAAD,CAAH,CACH,CAVL,EAUOiC,KAVP,CAUa/B,OAAO,CAACC,GAVrB,EAHH,wDApCyC,+CAuD1C,eAAiCR,QAAQ,EAAzC,yCAAQuC,QAAR,eAAkBC,WAAlB,eAEAzC,SAAS,CAAC,UAAK,CACd,GAAM0C,gBAAe,CAAG,QAAlBA,gBAAkB,EAAK,CACzBxC,KAAK,CAACgB,GAAN,iDACCiB,IADD,CACM,SAAUG,QAAV,CAAmB,CACxBG,WAAW,CAACH,QAAQ,CAACnB,IAAV,CAAX,CACA,CAHD,EAICoB,KAJD,CAIO,SAAUI,KAAV,CAAgB,CACnBnC,OAAO,CAACC,GAAR,CAAYkC,KAAZ,EACH,CAND,EAOCR,IAPD,CAOM,UAAW,CAEhB,CATD,EAUH,CAXD,CAaEO,eAAe,GACjB,CAfQ,CAeN,EAfM,CAAT,CAsBE,mBACA,wCACE,qCADF,cAGA,YAAK,KAAK,CAAE,WAAZ,uBAEE,YAAK,KAAK,CAAC,YAAX,uBACE,cAAM,QAAQ,CAAEjB,YAAhB,CAA8B,SAAS,CAAC,aAAxC,wBACE,aAAK,KAAK,CAAC,MAAX,wBACE,YAAK,KAAK,CAAC,cAAX,CAA0B,EAAE,CAAC,OAA7B,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,cAAO,GAAG,CAAC,MAAX,0BADF,cACwC,aADxC,cAEE,cAAO,QAAQ,CAAEH,iBAAjB,CAAoC,IAAI,CAAC,QAAzC,CAAkD,KAAK,CAAEP,QAAQ,CAACL,MAAlE,CAA0E,WAAW,CAAEK,QAAQ,CAACK,IAAhG,CAAsG,IAAI,CAAC,MAA3G,EAFF,GADF,EADF,cAQE,YAAK,KAAK,CAAC,cAAX,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,cAAO,GAAG,CAAC,UAAX,2BADF,cAC6C,aAD7C,cAEE,cAAO,QAAQ,CAAEE,iBAAjB,CAAqC,IAAI,CAAC,SAA1C,CAAoD,KAAK,CAAEP,QAAQ,CAACF,OAApE,CAA6E,WAAW,CAAEE,QAAQ,CAAC6B,KAAnG,CAA0G,IAAI,CAAC,MAA/G,EAFF,GADF,EARF,GADF,cAiBE,aAAK,KAAK,CAAC,MAAX,wBACE,YAAK,KAAK,CAAC,cAAX,CAA0B,EAAE,CAAC,OAA7B,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,cAAO,GAAG,CAAC,OAAX,wBADF,cACuC,aADvC,cAEE,cAAO,QAAQ,CAAEtB,iBAAjB,CAAqC,IAAI,CAAC,SAA1C,CAAoD,KAAK,CAAEP,QAAQ,CAACJ,OAApE,CAA6E,WAAW,CAAEI,QAAQ,CAAC8B,KAAnG,CAA0G,IAAI,CAAC,QAA/G,EAFF,GADF,EADF,cAQE,YAAK,KAAK,CAAC,cAAX,uBACE,aAAK,KAAK,CAAC,WAAX,wBACE,cAAO,GAAG,CAAC,UAAX,8BADF,cACgD,aADhD,cAGE,eAAQ,QAAQ,CAAEvB,iBAAlB,CAAqC,IAAI,CAAC,YAA1C,CAAuD,KAAK,CAAEP,QAAQ,CAACD,UAAvE,CAAmF,WAAW,CAAEC,QAAQ,CAACyB,QAAzG,CAAmH,EAAE,CAAC,UAAtH,UAGGA,QAAQ,EAAIA,QAAQ,CAACM,GAAT,CAAa,SAAC3B,IAAD,CAAO4B,GAAP,CAAe,CACrC,mBACA,sCACE,eAAQ,KAAK,CAAG5B,IAAI,CAACC,IAArB,UAA6BD,IAAI,CAACC,IAAlC,EADF,EADA,CAKH,CANY,CAHf,EAHF,GADF,EARF,GAjBF,cA6CE,YAAK,KAAK,CAAC,OAAX,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,cAA5B,0BADF,EA7CF,GADF,EAFF,EAHA,GADA,CA+DD"},"metadata":{},"sourceType":"module"}