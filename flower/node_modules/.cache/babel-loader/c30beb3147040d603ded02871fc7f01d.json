{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from'axios';import{Link}from'react-router-dom';import\"./form.css\";import ProductsList from\"./ProductList\";import'./List.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddProductForm(){var _useState=useState({p_name:\"\",p_price:\"\",p_image:\"\",p_category:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var name,value;function handleInputChange(e){name=e.target.name;value=e.target.value;setFormData(_objectSpread(_objectSpread({},FormData),{},_defineProperty({},name,value)));}function handleSubmit(e){e.preventDefault();console.log(\"submit\");var formData=new FormData(e.target);var apiUrl=\"http://localhost:8080/items/product\";fetch(\"\".concat(process.env.REACT_APP_SERVER_PATH,\"/items/products\"),{method:'POST',body:new URLSearchParams(formData)}).then(function(res){return res.json();}).then(function(response){console.log(response);setStatus(true);}).catch(console.log);}var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];useEffect(function(){var getCategoryData=function getCategoryData(){axios.get(\"\".concat(process.env.REACT_APP_SERVER_PATH,\"/items/categoryFormData\")).then(function(response){setCategory(response.data);}).catch(function(error){console.log(error);}).then(function(){});};getCategoryData();},[]);if(status){return/*#__PURE__*/_jsx(AddProductForm,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"ADD PRODUCTS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"add-product-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container1\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,method:\"POST\",className:\"productform\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-details\",id:\"col-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleInputChange(e);},name:\"p_name\",value:formData.p_name,type:\"text\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"item-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"quantity\",children:\"Product Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleInputChange(e);},name:\"p_image\",value:formData.p_image,type:\"text\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-details\",id:\"col-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"price\",children:\"Unit Price\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return handleInputChange(e);},name:\"p_price\",value:formData.p_price,type:\"number\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"item-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"category\",children:\"Product Category\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleInputChange(e);},name:\"p_category\",value:formData.p_category,id:\"category\",children:category&&category.map(function(data,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"option\",{value:data.name,children:data.name})});})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"myBtn\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Product\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"list-container\",children:/*#__PURE__*/_jsx(ProductsList,{})})]});}","map":{"version":3,"names":["useEffect","useState","axios","Link","ProductsList","AddProductForm","p_name","p_price","p_image","p_category","formData","setFormData","status","setStatus","name","value","handleInputChange","e","target","FormData","handleSubmit","preventDefault","console","log","apiUrl","fetch","process","env","REACT_APP_SERVER_PATH","method","body","URLSearchParams","then","res","json","response","catch","category","setCategory","getCategoryData","get","data","error","map","key"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/src/components/Admin/ProductForms/AddProductForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./form.css\";\r\nimport ProductsList from \"./ProductList\";\r\nimport './List.css';\r\n\r\nexport default function AddProductForm() {\r\n\r\n  const [formData, setFormData] = useState(\r\n    { p_name: \"\", p_price: \"\", p_image: \"\", p_category: \"\" }\r\n  )\r\n  const [status, setStatus] = useState();\r\n\r\n  let name, value;\r\n  function handleInputChange(e) {\r\n    name = e.target.name;\r\n    value = e.target.value;\r\n\r\n    setFormData(\r\n      { ...FormData, [name]: value }\r\n    )\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    console.log(\"submit\")\r\n\r\n    let formData = new FormData(e.target);\r\n    const apiUrl = `http://localhost:8080/items/product`;\r\n\r\n    fetch(`${process.env.REACT_APP_SERVER_PATH}/items/products`, {\r\n      method: 'POST',\r\n      body: new URLSearchParams(formData)\r\n    }).then(res => res.json())\r\n      .then(response => {\r\n        console.log(response)\r\n        setStatus(true);\r\n      }).catch(console.log);\r\n  }\r\n  \r\n\r\n  const [category, setCategory] = useState();\r\n\r\n  useEffect(() => {\r\n\r\n    const getCategoryData = () => {\r\n      axios.get(`${process.env.REACT_APP_SERVER_PATH}/items/categoryFormData`)\r\n        .then(function (response) {\r\n          setCategory(response.data);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n        .then(function () {\r\n        });\r\n    }\r\n\r\n    getCategoryData();\r\n  }, []);\r\n\r\n\r\n  if (status) {\r\n    return < AddProductForm />\r\n  }\r\n \r\n  return (\r\n    <>\r\n      <h2>ADD PRODUCTS</h2>\r\n\r\n      <div className=\"add-product-container\">\r\n\r\n        <div className=\"container1\">\r\n          <form onSubmit={handleSubmit} method=\"POST\" className=\"productform\">\r\n            <div className=\"col1\">\r\n              <div className=\"item-details\" id=\"col-2\">\r\n                <div className=\"input-box\">\r\n                  <label for=\"name\">Product Name</label><br />\r\n                  <input onChange={e => handleInputChange(e)} name=\"p_name\" value={formData.p_name} type=\"text\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"item-details\">\r\n                <div className=\"input-box\">\r\n                  <label for=\"quantity\">Product Image</label><br />\r\n                  <input onChange={e => handleInputChange(e)} name=\"p_image\" value={formData.p_image} type=\"text\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col2\">\r\n              <div className=\"item-details\" id=\"col-2\">\r\n                <div className=\"input-box\">\r\n                  <label for=\"price\">Unit Price</label><br />\r\n                  <input onChange={e => handleInputChange(e)} name=\"p_price\" value={formData.p_price} type=\"number\" />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"item-details\">\r\n                <div className=\"input-box\">\r\n                  <label for=\"category\">Product Category</label><br />\r\n\r\n                  <select onChange={e => handleInputChange(e)} name=\"p_category\" value={formData.p_category} id=\"category\" >\r\n\r\n                    {/* fetching Category data from mongoDB categoryDB table */}\r\n                    {category && category.map((data, key) => {\r\n                      return (\r\n                        <>\r\n                          <option value={data.name} >{data.name}</option>\r\n                        </>\r\n                      )\r\n                    })}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n            <div className=\"myBtn\">\r\n              <input type=\"submit\" value=\"Add Product\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"list-container\">\r\n        <ProductsList />\r\n      </div>\r\n\r\n\r\n    </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}