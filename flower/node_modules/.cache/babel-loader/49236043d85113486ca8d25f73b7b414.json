{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Footer from'./Partials/Footer';import Header from'./Partials/Header';import Sidebar from'./Partials/Sidebar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Checkout(props){var nav=useNavigate();var cart=props.cart,clearCart=props.clearCart;var itemPrice=cart.reduce(function(a,c){return a+c.price*c.qty;},0);var grandtotal=itemPrice;var cartproduct_id2=[];cart.map(function(item){cartproduct_id2.push(item._id);});var cartproduct_id=cartproduct_id2;var _useState=useState({email:\"\",address:\"\",firstname:\"\",lastname:\"\",phonenumber:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name,value;var handleInputs=function handleInputs(e){name=e.target.name;value=e.target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var PostData=function PostData(e){e.preventDefault();var formdata=new FormData(e.target);var url=\"\".concat(process.env.REACT_APP_SERVER_PATH,\"/items/order\");fetch(url,{method:\"POST\",body:new URLSearchParams(formdata)}).then(function(res){return res.json();}).then(function(response){var orderid=response._id;clearCart();nav(\"/order/\".concat(orderid));}).catch(function(response){//handle error\n});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"templatemo_wrapper_sp\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"templatemo_header_wsp\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"templatemo_header\",class:\"header_subpage\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"site_title\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Floral Shop\"})}),/*#__PURE__*/_jsx(Header,{})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"templatemo_main_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"templatemo_main\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"content\",class:\"right checkout_details_area mt-50 clearfix\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Checkout\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"BILLING DETAILS\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"TOTAL AMOUNT: \",/*#__PURE__*/_jsx(\"strong\",{children:itemPrice})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:PostData,className:\"checkout_details_area mt-50 clearfix\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"first_name\",children:[\"First Name \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"firstname\",id:\"first_name\",value:user.firstname,onChange:handleInputs,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"last_name\",children:[\"Last Name \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"lastname\",id:\"last_name\",value:user.lastname,onChange:handleInputs,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"street_address\",children:[\"Address \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"address\",id:\"street_address2\",value:user.address,onChange:handleInputs,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"phone_number\",children:[\"Phone No \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"phonenumber\",id:\"phone_number\",min:\"0\",value:user.phonenumber,onChange:handleInputs,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email_address\",children:[\"Email Address \",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",id:\"email_address\",value:user.email,onChange:handleInputs,required:true})]}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"custId\",name:\"totalamount\",value:grandtotal}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"custId\",name:\"product\",value:cartproduct_id}),/*#__PURE__*/_jsx(\"button\",{className:\"orderbtn\",type:\"submit\",children:\"Place Order\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"cleaner h40\"}),/*#__PURE__*/_jsx(\"div\",{class:\"blank_box\",children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/free_shipping.jpg\",alt:\"Free Shipping\"})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"cleaner\"})]})}),/*#__PURE__*/_jsx(Footer,{})]})});}export default Checkout;","map":{"version":3,"names":["React","useState","Link","useNavigate","Footer","Header","Sidebar","Checkout","props","nav","cart","clearCart","itemPrice","reduce","a","c","price","qty","grandtotal","cartproduct_id2","map","item","push","_id","cartproduct_id","email","address","firstname","lastname","phonenumber","user","setUser","name","value","handleInputs","e","target","PostData","preventDefault","formdata","FormData","url","process","env","REACT_APP_SERVER_PATH","fetch","method","body","URLSearchParams","then","res","json","response","orderid","catch"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/New folder (2)/flower/src/components/Checkout.js"],"sourcesContent":["import React,{useState} from 'react'\r\nimport { Link,useNavigate } from 'react-router-dom';\r\nimport Footer from './Partials/Footer';\r\nimport Header from './Partials/Header';\r\nimport Sidebar from './Partials/Sidebar';\r\n\r\nfunction Checkout(props) {\r\n    const nav = useNavigate();\r\n    const { cart,clearCart } = props;\r\n    const itemPrice = cart.reduce((a, c) => a + c.price * c.qty, 0);\r\n    const grandtotal = itemPrice\r\n    const cartproduct_id2 = []\r\n    cart.map((item) => {\r\n        cartproduct_id2.push(item._id)\r\n    })\r\n    const cartproduct_id = cartproduct_id2\r\n    const [user, setUser] = useState({\r\n        email: \"\", address: \"\", firstname: \"\", lastname: \"\", phonenumber: \"\"\r\n    });\r\n\r\n    let name, value;\r\n\r\n    const handleInputs = (e) => {\r\n        \r\n        name = e.target.name;\r\n        value = e.target.value;\r\n\r\n        setUser({ ...user, [name]:value});\r\n\r\n    }\r\n    \r\n    const PostData =  (e) => {\r\n        e.preventDefault()\r\n        let formdata = new FormData(e.target);\r\n        const url = `${process.env.REACT_APP_SERVER_PATH}/items/order`\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            body: new URLSearchParams(formdata)\r\n        }).then(res => res.json()).then(response => {\r\n            const orderid = response._id\r\n            clearCart()\r\n            nav(`/order/${orderid}`)\r\n        }).catch(function (response) {\r\n            //handle error\r\n          });\r\n        } \r\n    return (\r\n        <>\r\n            <div id=\"templatemo_wrapper_sp\">\r\n                <div id=\"templatemo_header_wsp\">\r\n                    <div id=\"templatemo_header\" class=\"header_subpage\">\r\n                        <div id=\"site_title\"><Link to=\"#\">Floral Shop</Link></div>\r\n                        <Header />\r\n\r\n                    </div>\r\n                </div>\r\n                <div id=\"templatemo_main_wrapper\">\r\n                    <div id=\"templatemo_main\">\r\n                        <Sidebar />\r\n\r\n                        <div id=\"content\" class=\"right checkout_details_area mt-50 clearfix\">\r\n                            <h2 >Checkout</h2>\r\n\r\n                            <h3>BILLING DETAILS</h3>\r\n                            \r\n                            <h3>TOTAL AMOUNT: <strong>{itemPrice}</strong></h3>\r\n\r\n                            <form onSubmit={PostData} className=\"checkout_details_area mt-50 clearfix\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"first_name\">First Name <span>*</span></label>\r\n                                        <input type=\"text\" className=\"form-control\" name='firstname' id=\"first_name\" value={user.firstname} onChange={handleInputs} required />\r\n                                    </div>\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"last_name\">Last Name <span>*</span></label>\r\n                                        <input type=\"text\" className=\"form-control\" name='lastname' id=\"last_name\" value={user.lastname} onChange={handleInputs} required />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 mb-3\">\r\n                                        <label htmlFor=\"street_address\">Address <span>*</span></label>\r\n                                        <input type=\"text\" className=\"form-control\" name='address' id=\"street_address2\" value={user.address} onChange={handleInputs} required />\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 mb-3\">\r\n                                        <label htmlFor=\"phone_number\">Phone No <span>*</span></label>\r\n                                        <input type=\"number\" className=\"form-control\" name='phonenumber' id=\"phone_number\" min=\"0\" value={user.phonenumber} onChange={handleInputs} required />\r\n                                    </div>\r\n                                    <div className=\"col-12 mb-4\">\r\n                                        <label htmlFor=\"email_address\">Email Address <span>*</span></label>\r\n                                        <input type=\"email\" className=\"form-control\" name='email' id=\"email_address\" value={user.email} onChange={handleInputs} required />\r\n                                    </div>\r\n                                    <input type=\"hidden\" id=\"custId\" name=\"totalamount\" value={grandtotal}></input>\r\n                                    <input type=\"hidden\" id=\"custId\" name=\"product\" value={cartproduct_id}></input>\r\n\r\n                                    <button  className=\"orderbtn\" type='submit'>Place Order</button>\r\n                                </div>\r\n                            </form>\r\n\r\n                            <div class=\"cleaner h40\"></div>\r\n\r\n                        \r\n                            <div class=\"blank_box\">\r\n                                <Link to=\"#\"><img src={`./assets/images/free_shipping.jpg`} alt=\"Free Shipping\" /></Link>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"cleaner\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Checkout"],"mappings":"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"},"metadata":{},"sourceType":"module"}